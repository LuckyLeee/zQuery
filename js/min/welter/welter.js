(function(A,C){var B=function(D,E){E=A.extend({tagName:{panel:"ul",items:"ul>li",btnPre:".pre",btnNext:".next"},panel:null,items:null,btnPre:null,btnNext:null,itemOtherWidth:0,length:0,moveLength:1,minLength:5,index:0,locationIndex:0,type:false,arrows:true,speed:400,enabledClassName:["enable","enable"]},E);this.target=A(D);this.init(E);};B.prototype={init:function(D){this.setOptions(D);this.SetStyle();this.bindEvent();},setOptions:function(E){A.extend(this,E);for(var F in this.tagName){this[F]=this.target.find(this.tagName[F]);}this.length=this.items.length;if(this.type&&this.length>0){this.panel.width(this.length*(this.items[0].clientWidth+this.itemOtherWidth)+"px");}if(this.IsOverBorder(this.locationIndex*this.moveLength)){this.index=this.locationIndex*this.moveLength;if(this.type){var G=(-1*this.getScrollWidth());this.panel.css({marginLeft:G+"px"});}else{var D=(-1*this.getScrollHeight());this.panel.css({marginTop:D+"px"});}this.SetStyle();}},bindEvent:function(){var D=this;this.btnPre.bind("click",function(){if(A(this).hasClass(D.enabledClassName[0])){return;}D.Switch(-1);});this.btnNext.bind("click",function(){if(A(this).hasClass(D.enabledClassName[1])){return;}D.Switch(1);});},SetStyle:function(){if(!this.arrows){if(this.index+this.minLength>=this.length){this.btnNext.hide();}else{this.btnNext.show();}if(this.index==0){this.btnPre.hide();}else{this.btnPre.show();}}else{if(this.index+this.minLength>=this.length){this.btnNext.addClass(this.enabledClassName[1]);}else{this.btnNext.removeClass(this.enabledClassName[1]);}if(this.index==0){this.btnPre.addClass(this.enabledClassName[0]);}else{this.btnPre.removeClass(this.enabledClassName[0]);}}},Switch:function(D){var G=this.index+(D>0?this.moveLength:-1*this.moveLength);if(this.IsOverBorder(G)){this.index=G;if(this.type){var E=(-1*this.getScrollWidth()),F=E+(20*D);this.panel.animate({marginLeft:F+"px"},this.speed).animate({marginLeft:E+"px"},this.speed);}else{var H=(-1*this.getScrollHeight()),F=H+(20*D);this.panel.animate({marginTop:H+"px"},this.speed);}this.SetStyle();}},IsOverBorder:function(D){return(D>=0&&D<this.length);},getScrollWidth:function(){var E=0;for(var D=0,F=this.index;D<F;D++){E+=this.items[D].clientWidth+this.itemOtherWidth;}return E;},getScrollHeight:function(){var E=0;for(var D=0,F=this.index;D<F;D++){E+=this.items[D].clientHeight+this.itemOtherWidth;}return E;}};A.fn.extend({Welter:function(D){var E={};if(typeof D!=="undefined"){A.extend(true,E,D);}B["instance"]=new B(this,E);return B["instance"];}});})(jQuery);