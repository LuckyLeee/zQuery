(function(A){var B=function(C,D){D=A.extend({total:0,index:1,viewNum:5,pageNum:10,className:"ahover",pageTotal:0},D);this.target=A(C);this.init(D);};B.prototype={init:function(C){this.setOptions(C);this.bindEvent();this.viewPage(this.index);},setOptions:function(C){A.extend(this,C);this.pageTotal=this.total%this.pageNum>0?parseInt(this.total/this.pageNum)+1:parseInt(this.total/this.pageNum);},prevPage:function(){this.index-=1;return this.setPageByIndex(this.index);},nextPage:function(){this.index+=1;return this.setPageByIndex(this.index);},setTotle:function(C){this.total=C;this.pageTotal=this.total%this.pageNum>0?parseInt(this.total/this.pageNum)+1:parseInt(this.total/this.pageNum);this.viewPage(this.index);},bindEvent:function(){var C=this;this.target.bind("click",function(D){D=D||window.event;var E=D.target||D.srcElement;if(E.tagName==="A"){var F=A(E).data("type");if(F=="prev"){C.prevPage();}else{if(F=="next"){C.nextPage();}else{if(F=="first"){C.setPageByIndex(1);}else{if(F=="last"){C.setPageByIndex(C.pageTotal);}else{var G=parseInt(E.innerHTML,10);C.setPageByIndex(G);}}}}}});},setPageByIndex:function(C){if(typeof C==="undefined"){return this.index;}else{if(C<1){return[false,"over-low"];}else{if(C>this.pageTotal){return[false,"over-high"];}else{this.viewPage(C);this.target.trigger("change",[C]);return[true,""];}}}},viewPage:function(N){this.index=N;var I=this.viewNum%2,L=(this.viewNum-I)/2,J=N-(N-I)%L,H=Math.max(1,J-L+1-I),D=Math.min(this.pageTotal,H+this.viewNum-1);var G=this.index>1?'<a data-type="prev" href="###">上一页</a>':"",K=H>1?'<a href="###">1</a>':"",M=D<this.pageTotal?'<span class="c_page_ellipsis">...</span><a href="###">'+this.pageTotal+"</a>":"",F=this.index<this.pageTotal?'<a data-type="next" href="###">下一页</a>':"",E="<span class='total'>共 "+this.pageTotal+" 页</span>",C="<span class='go-text'>到第<input class='text' type='text'>页</span><a class='btn-go' href='javascript:'>确定</a>";str=[];for(;H<N;H++){str.push('<a href="###">'+H+"</a>");}str.push('<span class="'+this.className+'">'+N+"</span>");for(N++;N<=D;N++){str.push('<a href="###">'+N+"</a>");}this.target.html(firstStr+G+K+str.join("")+M+F+E+C);}};A.fn.extend({Page:function(C){var D={};if(typeof C!=="undefined"){A.extend(true,D,C);}B["instance"]=new B(this,D);return B["instance"];}});})(jQuery);