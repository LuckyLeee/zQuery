(function(A){var B=function(C,D){D=A.extend({total:0,index:1,viewNum:5,pageNum:10,className:"ahover",pageTotal:0},D);this.target=A(C);this.init(D);};B.prototype={init:function(C){this.setOptions(C);this.bindEvent();this.viewPage(this.index);},setOptions:function(C){A.extend(this,C);this.pageTotal=this.total%this.pageNum>0?parseInt(this.total/this.pageNum)+1:parseInt(this.total/this.pageNum);},prevPage:function(){this.index-=1;return this.setPageByIndex(this.index);},nextPage:function(){this.index+=1;return this.setPageByIndex(this.index);},setTotle:function(C){this.total=C;this.pageTotal=this.total%this.pageNum>0?parseInt(this.total/this.pageNum)+1:parseInt(this.total/this.pageNum);this.viewPage(this.index);},bindEvent:function(){var C=this;this.target.bind("click",function(D){D=D||window.event;var E=D.target||D.srcElement;if(E.tagName==="A"){var F=A(E).data("type");if(F=="prev"){C.prevPage();}else{if(F=="next"){C.nextPage();}else{if(F=="first"){C.setPageByIndex(1);}else{if(F=="last"){C.setPageByIndex(C.pageTotal);}else{var G=parseInt(E.innerHTML,10);C.setPageByIndex(G);}}}}}});},setPageByIndex:function(C){if(typeof C==="undefined"){return this.index;}else{if(C<1){return[false,"over-low"];}else{if(C>this.pageTotal){return[false,"over-high"];}else{this.viewPage(C);this.target.trigger("change",[C]);return[true,""];}}}},viewPage:function(I){this.index=I;var G=this.viewNum%2,N=(this.viewNum-G)/2,K=I-(I-G)%N,F=Math.max(1,K-N+1-G),J=Math.min(this.pageTotal,F+this.viewNum-1);var D=this.index>1?'<a href="###" data-type="first">首页</a>':"",E=this.index>1?'<a data-type="prev" href="###">上一页</a>':"",M=F>1?'<a href="###">1</a><span class="c_page_ellipsis">...</span>':"",L=J<this.pageTotal?'<span class="c_page_ellipsis">...</span><a href="###">'+this.pageTotal+"</a>":"",O=this.index<this.pageTotal?'<a data-type="next" href="###">下一页</a>':"",C=this.index<this.pageTotal?'<a href="###" data-type="last">末页</a>':"",H=[];for(;F<I;F++){H.push('<a href="###">'+F+"</a>");}H.push('<a href="###" class="'+this.className+'">'+I+"</a>");for(I++;I<=J;I++){H.push('<a href="###">'+I+"</a>");}this.target.html(D+E+M+H.join("")+L+O+C);}};A.fn.extend({Page:function(C){var D={};if(typeof C!=="undefined"){A.extend(true,D,C);}B["instance"]=new B(this,D);return B["instance"];}});})(jQuery);