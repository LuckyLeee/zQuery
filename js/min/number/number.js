(function(A,B){var C=function(D,E){E=A.extend({tagName:{text:">input",btnPre:".mod_number_pre",btnNext:".mod_number_next"},text:null,btnPre:null,btnNext:null,min:0,max:10,value:null,type:true,timer:null,speed:100,enabledClassName:["enable","enable"],hasClassName:"havecs"},E);this.target=A(D);this.init(E);};C.prototype={init:function(D){this.setOptions(D);this.bindEvent();},setOptions:function(D){A.extend(this,D);this.max=this.target.data("max")||this.max;for(var E in this.tagName){this[E]=this.target.find(this.tagName[E]);}if(this.text.val()!=""){this.value=~~this.text.val();}else{this.value=this.min;}this.setValue();},bindEvent:function(){var D=this;this.btnPre.bind("mousedown",function(){if(D.value<=D.min){return;}D.value--;D.type=false;D.setValue();});this.btnNext.bind("mousedown",function(){if(D.value>=D.max){return;}D.value++;D.type=true;D.setValue();});this.btnPre.bind("mouseup",function(){D.stop();});this.btnNext.bind("mouseup",function(){D.stop();});},setMin:function(D){this.min=D;this.value=D;this.setValue();},setMax:function(D){this.max=D;this.value=Math.min(this.value,this.max);this.setValue();},setValue:function(){this.text.val(this.value);this.setStyle();this.target.trigger("change",{value:this.value});},setStyle:function(){if(this.value>=this.max){this.btnNext.addClass(this.enabledClassName[1]);}else{this.btnNext.removeClass(this.enabledClassName[1]);}if(this.value<=this.min){this.btnPre.addClass(this.enabledClassName[0]);}else{this.btnPre.removeClass(this.enabledClassName[0]);}if(this.value>0){this.text.addClass(this.hasClassName);}else{this.text.removeClass(this.hasClassName);}},timeMeter:function(){var D=this;if(!this.timer){clearInterval(this.timer);}this.timer=setInterval(function(){var E=D.value+(D.type?1:-1);if(E<D.min||E>D.max){D.stop();return;}D.value=E;D.setValue();},this.speed);},stop:function(){clearInterval(this.timer);}};A.fn.extend({Number:function(D){var E={};if(typeof D!=="undefined"){A.extend(true,E,D);}C["instance"]=new C(this,E);return C["instance"];}});})(jQuery);